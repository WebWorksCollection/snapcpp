snapserver-core-plugins (1.0.49.0~xenial) xenial; urgency=high

  * SNAP-329: Fixed login redirect problem by saving the referrer using the
    user identifier instead of a plain field name for all.
  * Removed the snap_child parameter from the user_info_t constructor and
    changed the get_snap() implementation in that regard. It makes it lighter.
  * Introduced the IDENTIFIER_VALID and IDENTIFIER_ANONYMOUS instead of -1/0.
  * Fixed signals to makes use of references instead of a copy of user_info
    (it could end up making many copies otherwise!)
  * Fixed the user_info_t::get_value() to return a reference to the value.
  * Fixed the SNAP_NAME_USERS_HIT_CHECK name, the "HIT" was missing.
  * Added a status to the "?hit=check" test: "soft".
  * Fixed several check against the anonymous path using == anonymous instead
    of isEmpty(), which was wrong.
  * Changed the email canonicalization by having it done at the time you
    call the get_user_key() function.
  * Updated code to the user_info_t implementation for added security.
  * Changed the get_user_path() to be both: base and standard. But especially
    check whether the user is defined, if not use "user" as the path.
  * Various cleanups.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 16 Jan 2017 19:43:45 -0800

snapserver-core-plugins (1.0.48.0~xenial) xenial; urgency=high

  * SNAP-531: Found another 4 tests that were inverted and fixed them.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 15 Jan 2017 01:20:45 -0800

snapserver-core-plugins (1.0.47.0~xenial) xenial; urgency=high

  * SNAP-531: Fixed the test in process_verify_resend_form(), it needed to be
    positive and not negative (i.e. no '!' in the if().)
  * Now show a different message for verification codes that are out of date.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 14 Jan 2017 21:54:45 -0800

snapserver-core-plugins (1.0.46.0~xenial) xenial; urgency=high

  * SNAP-547: Added function to convert old site to new link implementation.
  * Fixed the links::cleanup_links() function with an && instead of ||.
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jan 2017 22:28:45 -0800

snapserver-core-plugins (1.0.45.0~xenial) xenial; urgency=high

  * SNAP-547: Corrected links to work as expected with any number of branches.
  * Added a branch selection on the path_info_t::get_branch().
  * Moved some of the more complex link_info implementation to the .cpp file.
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 11 Jan 2017 22:28:45 -0800

snapserver-core-plugins (1.0.44.0~xenial) xenial; urgency=high

  * SNAP-163: Removed some padding under the buttons to avoid slider bar.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 08 Jan 2017 15:47:45 -0800

snapserver-core-plugins (1.0.43.0~xenial) xenial; urgency=high

  * SNAP-331: Open calendar popup toward the top of the date widget if
    there is not enough space opening it under the widget.

 -- Alexis Wilke <alexis@m2osw.com>  Sun,  8 Jan 2017 01:31:51 -0800

snapserver-core-plugins (1.0.42.0~xenial) xenial; urgency=high

  * SNAP-547: Noticed that the branch was not being created when upgrading
    the branch number of a JS script (would also happen with CSS.)

 -- Alexis Wilke <alexis@m2osw.com>  Sun,  8 Jan 2017 01:29:51 -0800

snapserver-core-plugins (1.0.41.0~xenial) xenial; urgency=high

  * SNAP-258: Added support to the editor plugin to provide read-only access to
    the underlying post and converted values.
  * SNAP-258: Added email change form.
  * EX-159: on errors, show the statusReady parameter to see what it is
    [Alexis Wilke].

 -- R. Douglas Barbieri <doug@dooglio.net>  Thu, 05 Jan 2017 09:51:14 -0800

snapserver-core-plugins (1.0.40.4~xenial) xenial; urgency=high

  * Nightly build.

 -- Build Server <build@m2osw.com>  Wed, 04 Jan 2017 02:00:50 -0800

snapserver-core-plugins (1.0.40.0~xenial) xenial; urgency=high

  * SNAP-258: Bump date and time in do_update() to get the new script.

 -- Alexis Wilke <alexis@m2osw.com>  Wed,  4 Jan 2017 00:34:48 -0800

snapserver-core-plugins (1.0.39.0~xenial) xenial; urgency=high

  * SNAP-258: The date out of whack is in milliseconds, not seconds.

 -- Alexis Wilke <alexis@m2osw.com>  Tue,  3 Jan 2017 23:32:48 -0800

snapserver-core-plugins (1.0.38.0~xenial) xenial; urgency=high

  * SNAP-258: Fixed crucial bug which prevented the *id_row* from being
    incremented when creating new users.

 -- R. Douglas Barbieri <doug@dooglio.net>  Tue, 03 Jan 2017 11:27:03 -0800

snapserver-core-plugins (1.0.37.0~xenial) xenial; urgency=high

  * EX-159: Some browsers set readyState to 4 when they timeout instead of
    setting the status to 504 and an error message.

 -- Alexis Wilke <alexis@m2osw.com>  Tue,  3 Jan 2017 00:19:48 -0800

snapserver-core-plugins (1.0.36.0~xenial) xenial; urgency=high

  * SNAP-530: Actually, the timeout delay can go really negative when someone
    has bad clocks (which happens on VMs, for example). Now the script forces
    a minimum of 60 for the delay (1min.) and checks if it goes under 1h, if
    so it prints a warning in the JavaScript console.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 30 Dec 2016 15:21:48 -0800

snapserver-core-plugins (1.0.35.3~xenial) xenial; urgency=high

  * SNAP-258: Now user logs in correctly.

 -- R. Douglas Barbieri <doug@dooglio.net>  Wed, 28 Dec 2016 16:27:33 -0800

snapserver-core-plugins (1.0.34.1~xenial) xenial; urgency=high

  * SNAP-258: Added trace statements in user login code for debugging.
  * SNAP-258: Converts to id --> user info. The user_key is no longer the key into the users table.

 -- R. Douglas Barbieri <doug@dooglio.net>  Tue, 13 Dec 2016 11:34:18 -0800


snapserver-core-plugins (1.0.33.0~xenial) xenial; urgency=high

  * SNAP-530: Added AJAX support for checking the users session status.
  * Fixed the hit=transparent feature with attachments, favicon, images.
  * Avoid displaying the "Unauthorized" error message on a transparent access.
  * Made the users hit variable part of the plugin so we can check it at any
    time even after the cookies were checked.
  * Added a hit=check which just returns the session current status.
  * Changed the users.js timeout handling to use an AJAX request instead of
    a reload (1) because if still valid we should not reload and (2) the
    reload meant loading many files (i.e. favicon.ico) instead of just checking
    the session which takes no time.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 21 Dec 2016 20:26:48 -0800

snapserver-core-plugins (1.0.32.0~xenial) xenial; urgency=high

  * SNAP-530: Added a debug log to see that transparent hit make it as expected.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 12 Dec 2016 11:58:42 -0800

snapserver-core-plugins (1.0.31.0~xenial) xenial; urgency=high

  * SNAP-254: Make sure that if the boolean value is not defined, ignore it.

 -- Alexis Wilke <alexis@m2osw.com>  Wed,  7 Dec 2016 22:32:47 -0800

snapserver-core-plugins (1.0.30.0~xenial) xenial; urgency=high

  * SNAP-200: Removed the 'priority' and 'frequency' which Google ignores now.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 28 Nov 2016 13:51:49 -0800

snapserver-core-plugins (1.0.29.0~xenial) xenial; urgency=high

  * SNAP-279: Updated the users and sendmail to support example users.
  * Prevent sendmail from sending emails to example users.
  * Added a function to check whether a user is an example user.

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 27 Nov 2016 18:25:03 -0800

snapserver-core-plugins (1.0.28.0~xenial) xenial; urgency=high

  * SNAP-254: Implemented the redirect to HTTPS when on HTTP.
  * Added a new tag named 'secure-page' to force a redirect on those pages.
  * Marked the user login, register, etc. as needed a secure redirect.
  * Various clean ups.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 23 Nov 2016 01:46:48 -0800

snapserver-core-plugins (1.0.27.0~xenial) xenial; urgency=high

  * EX-114: Fixed an error message to include more information.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 22 Nov 2016 19:26:48 -0800

snapserver-core-plugins (1.0.26.0~xenial) xenial; urgency=high

  * EX-151: Fixed the stacked darken screen, it could be duplicated and then
    the stack was wrong (duplicates never got removed).

 -- Alexis Wilke <alexis@m2osw.com>  Sun, 20 Nov 2016 16:35:48 -0800

snapserver-core-plugins (1.0.25.0~xenial) xenial; urgency=high

  * SNAP-61: Removed the last lock related remnants.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 19 Nov 2016 00:45:50 -0800

snapserver-core-plugins (1.0.24.0~xenial) xenial; urgency=high

  * Upgraded jQuery to version 1.12.4.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 15 Nov 2016 23:59:47 -0800

snapserver-core-plugins (1.0.23.0~xenial) xenial; urgency=high

  * EX-150: make the forms non-editable when not marked as such (removed debug).

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 15 Nov 2016 23:33:47 -0800

snapserver-core-plugins (1.0.22.0~xenial) xenial; urgency=high

  * EX-147: Put the hidden class back.
  * Cleaned up the capture and accept attributes.
  * Fixed the capture boolean value, it has to be "capture" and not "true".

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 21:12:49 -0800

snapserver-core-plugins (1.0.21.0~xenial) xenial; urgency=high

  * EX-147: Trying without the hidden class and adding another attribute.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 20:43:49 -0800

snapserver-core-plugins (1.0.20.0~xenial) xenial; urgency=high

  * EX-147: Placed the attributes inside the input tag instead of after.
  * Removed the replace() which does not work right.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 20:07:49 -0800

snapserver-core-plugins (1.0.19.0~xenial) xenial; urgency=high

  * EX-147: Fixed the regular expression so it works with Qt5.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 19:15:49 -0800

snapserver-core-plugins (1.0.18.0~xenial) xenial; urgency=high

  * EX-147: Added support for mime-types (i.e. the accept=... in an <input>).

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 18:13:49 -0800

snapserver-core-plugins (1.0.17.0~xenial) xenial; urgency=high

  * EX-133: Added a flag so we can ignore the User-Agent when verifying a user.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 11 Nov 2016 16:42:49 -0800

snapserver-core-plugins (1.0.16.0~xenial) xenial; urgency=high

  * EX-147: Added support to add the capture attribute to the file input.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 10 Nov 2016 23:12:47 -0700

snapserver-core-plugins (1.0.15.0~xenial) xenial; urgency=high

  * SNAP-501: Added new doc-only packages.

 -- Doug Barbieri <doug@kosh>  Wed, 26 Oct 2016 17:11:25 -0700

snapserver-core-plugins (1.0.14.0~xenial) xenial; urgency=high

  * SNAP-465: postinst/postrm cleanups.
  * Removed the restart of snapinit after removing the plugins.

 -- Alexis Wilke <alexis@m2osw.com>  Mon, 24 Oct 2016 23:48:38 -0700

snapserver-core-plugins (1.0.13.0~xenial) xenial; urgency=high

  * SNAP-276: Fixed the check of bounced emails: it was using == instead of !=.
  * Fixed the 4 months calculation, it needed to be in microseconds.
  * Added a script to generate the 4 bounce fields for test purposes.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 19 Oct 2016 10:35:21 -0700

snapserver-core-plugins (1.0.12.0~xenial) xenial; urgency=high

  * EX-132: Added support for counting messages and avoid changing the
    message type to "info" if there are still errors or warnings showing.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 13 Oct 2016 15:39:53 -0700

snapserver-core-plugins (1.0.11.0~xenial) xenial; urgency=high

  * EX-131: made the generate_list_for_page() function public.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 12 Oct 2016 09:44:48 -0700

snapserver-core-plugins (1.0.10.0~xenial) xenial; urgency=high

  * EX-131: Looking at the problem with list not updating, I noticed an
    exception generated by GoogleBot trying to load some wordpress files.
    This is the fix, instead of throwing we now return a 404 as expected.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 07 Oct 2016 16:55:06 -0700

snapserver-core-plugins (1.0.9.0~xenial) xenial; urgency=high

  * SNAP-110: Removed the initial_update() functions.
  * Tables are now all created by snapcreatetables.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 07 Oct 2016 12:43:06 -0700

snapserver-core-plugins (1.0.8.0~xenial) xenial; urgency=high

  * SNAP-110: Show versions of additional tools.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 07 Oct 2016 12:43:06 -0700

snapserver-core-plugins (1.0.7.0~xenial) xenial; urgency=high

  * EX-126: User gets logged out "randomly": the session was actually not
    extended properly.

 -- Alexis Wilke <alexis@m2osw.com>  Fri, 07 Oct 2016 11:47:06 -0700

snapserver-core-plugins (1.0.6.0~xenial) xenial; urgency=high

  * SNAP-468: Fixed the load_file so it loads files as is or with the
    ".xsl" extension.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 04 Oct 2016 14:12:48 -0700

snapserver-core-plugins (1.0.5.0~xenial) xenial; urgency=high

  * SNAP-378: Removed access to the install_layout() call from frontend users.

 -- Alexis Wilke <alexis@m2osw.com>  Thu, 29 Sep 2016 21:53:40 -0700

snapserver-core-plugins (1.0.4.0~xenial) xenial; urgency=high

  * SNAP-413: Replaced the snapcreatetables call with the NEWTABLE signal.
  * The snapserver Core plugins do not require snapcommunicator on
    installation so snapsignal may not be available so this one checks
    the availability of snapsignal.

 -- Alexis Wilke <alexis@m2osw.com>  Sat, 24 Sep 2016 14:59:48 -0700

snapserver-core-plugins (1.0.3.0~xenial) xenial; urgency=high

  * SNAP-289: Removed obj->enum_name::enum_value so Coverity is happy.

 -- Alexis Wilke <alexis@m2osw.com>  Wed, 23 Sep 2016 18:57:43 -0700

snapserver-core-plugins (1.0.2.0~xenial) xenial; urgency=high

  * SNAP-110: Added SNAP_LOG_FATAL() for a few more throw().

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 13 Sep 2016 16:58:22 -0700

snapserver-core-plugins (1.0.1.0~xenial) xenial; urgency=high

  * SNAP-110: Bumped version to get my test system to upgrade properly.

 -- Alexis Wilke <alexis@m2osw.com>  Tue, 13 Sep 2016 11:59:22 -0700

snapserver-core-plugins (1.0.0) xenial; urgency=high

  * Initial release of packaging for the new snapserver project.

 -- R. Douglas Barbieri <doug@dooglio.net>  Wed, 26 May 2016 20:23:45 -0800
